/**
 * CSS Slider. Simple tool for providing css hooks
 * @version 1.3
 *
 * @dependency jQuery 1.8.2
 * @dependency jQuery UI 1.9.0
 *
 * @author Matt Goucher ( matt[at]mattgoucher[dot]com )
 * @author Justin Jones ( justin[at]jstnjns[dot]com )
 **/
(function(a){a.widget("css.slider",{options:{auto:!0,loop:!0,interval:3e3,hoverPause:!0,initialSlide:2,navigation:!0,nextAndPrev:!0,sliderClass:"css-slider",slideClass:"css-slide",nextClass:"css-next",prevClass:"css-prev",activeClass:"css-active",oldClass:"css-old",disabledClass:"css-disabled",navigationClass:"css-slider-navigation",navigationItemClass:"css-slider-navigation-item"},_create:function(){var b=this;b.current=b.options.initialSlide,b.slider=b.element.addClass(b.options.sliderClass),b.slides=b.element.children().addClass(b.options.slideClass),b.options.nextAndPrev&&(b.nextButton=a("<a>",{"class":b.options.nextClass,text:"Next"}).hover(function(){b.stopTimer()},function(){b.startTimer()}).click(function(a){a.preventDefault(),b.to(b.current+1)}).insertAfter(b.slider),b.previousButton=a("<a>",{"class":b.options.prevClass,text:"Previous"}).hover(function(){b.stopTimer()},function(){b.startTimer()}).click(function(a){a.preventDefault(),b.to(b.current-1)}).insertAfter(b.slider)),b.options.navigation&&(b.navigation=a("<ul>",{"class":b.options.navigationClass}).hover(function(){b.stopTimer()},function(){b.startTimer()}),b.slides.each(function(c){b.navigation.append(a("<li>",{"class":b.options.navigationItemClass,text:"slide-"+(c+1)}).click(function(){b.to(c)}))}),b.navigation.insertAfter(b.slider))},_init:function(){this.to(this.current),this.options.auto&&this.start(this.options.hoverPause)},to:function(b){var c=this;if(this.options.onTransition(b),this.options.loop){if(0>b)return this.to(this.slides.length-1);if(b>this.slides.length-1)return this.to(0)}else b>=this.slides.length-1?this.nextButton.addClass(this.options.disabledClass):this.nextButton.removeClass(this.options.disabledClass),0>=b?this.previousButton.addClass(this.options.disabledClass):this.previousButton.removeClass(this.options.disabledClass);return b>this.slides.length-1||0>b?!1:(this.slides.removeClass(this.options.activeClass+" "+this.options.oldClass).eq(b).addClass(this.options.activeClass).end().slice(0,b).addClass(this.options.oldClass),c.navigation&&a(c.navigation.children()[b]).addClass("active").siblings().removeClass("active"),this.current=b,this._trigger("to"),void 0)},next:function(){this.to(this.current+1)},previous:function(){this.to(this.current-1)},start:function(a){var b=this;b.startTimer(),a&&b.slider.hover(function(){b.stopTimer()},function(){b.startTimer()})},startTimer:function(){var a=this;this.timer=setInterval(function(){a.next()},this.options.interval)},stopTimer:function(){clearInterval(this.timer)},destroy:function(){a.Widget.prototype.destroy.call(this),this.nextButton.remove(),this.previousButton.remove()}})})(jQuery)
