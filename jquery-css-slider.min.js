/**
 * CSS Slider. Simple tool for providing css hooks
 * @version 1.1
 *
 * @dependency jQuery 1.8.2
 * @dependency jQuery UI 1.9.0
 *
 * @author Matt Goucher ( matt[at]mattgoucher[dot]com )
 * @author Justin Jones ( justin[at]jstnjns[dot]com )
 **/
(function(e){e.widget("css.slider",{options:{auto:!0,loop:!0,interval:3e3,hoverPause:!0,initialSlide:0,sliderClass:"css-slider",slideClass:"css-slide",nextClass:"css-next",prevClass:"css-prev",activeClass:"css-active",oldClass:"css-old",disabledClass:"css-disabled"},_create:function(){var t=this;this.current=this.options.initialSlide,this.slider=this.element.addClass(this.options.sliderClass),this.slides=this.element.children().addClass(this.options.slideClass),this.nextButton=e("<a>",{"class":this.options.nextClass,text:"Next"}).click(function(e){e.preventDefault(),t.to(t.current+1)}).insertAfter(this.slider),this.previousButton=e("<a>",{"class":this.options.prevClass,text:"Previous"}).click(function(e){e.preventDefault(),t.to(t.current-1)}).insertAfter(this.slider)},_init:function(){this.to(this.current),this.options.auto&&this.start(this.options.hoverPause)},to:function(e){if(this.options.loop){if(e<0)return this.to(this.slides.length-1);if(e>this.slides.length-1)return this.to(0)}else e>=this.slides.length-1?this.nextButton.addClass(this.options.disabledClass):this.nextButton.removeClass(this.options.disabledClass),e<=0?this.previousButton.addClass(this.options.disabledClass):this.previousButton.removeClass(this.options.disabledClass);if(e>this.slides.length-1||e<0)return!1;this.slides.removeClass(this.options.activeClass+" "+this.options.oldClass).eq(e).addClass(this.options.activeClass).end().slice(0,e).addClass(this.options.oldClass),this.current=e,this._trigger("to")},next:function(){this.to(this.current+1)},previous:function(){this.to(this.current-1)},start:function(e){var t=this;t.startTimer(),e&&t.slider.hover(function(){t.stopTimer()},function(){t.startTimer()})},startTimer:function(){var e=this;this.timer=setInterval(function(){e.next()},this.options.interval)},stopTimer:function(){clearInterval(this.timer)},destroy:function(){e.Widget.prototype.destroy.call(this),this.nextButton.remove(),this.previousButton.remove()}})})(jQuery)
