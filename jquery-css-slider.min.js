/**
 * CSS Slider. Simple tool for providing css hooks
 * @version 1.2
 *
 * @dependency jQuery 1.8.2
 * @dependency jQuery UI 1.9.0
 *
 * @author Matt Goucher ( matt[at]mattgoucher[dot]com )
 * @author Justin Jones ( justin[at]jstnjns[dot]com )
 **/
(function(a){a.widget("css.slider",{options:{auto:!0,loop:!0,interval:3e3,hoverPause:!0,initialSlide:0,sliderClass:"css-slider",slideClass:"css-slide",nextClass:"css-next",prevClass:"css-prev",activeClass:"css-active",oldClass:"css-old",disabledClass:"css-disabled",onTransition:function(){}},_create:function(){var b=this;this.current=this.options.initialSlide,this.slider=this.element.addClass(this.options.sliderClass),this.slides=this.element.children().addClass(this.options.slideClass),this.nextButton=a("<a>",{"class":this.options.nextClass,text:"Next"}).click(function(a){a.preventDefault(),b.to(b.current+1)}).insertAfter(this.slider),this.previousButton=a("<a>",{"class":this.options.prevClass,text:"Previous"}).click(function(a){a.preventDefault(),b.to(b.current-1)}).insertAfter(this.slider)},_init:function(){this.to(this.current),this.options.auto&&this.start(this.options.hoverPause)},to:function(a){if(this.options.onTransition(a),this.options.loop){if(0>a)return this.to(this.slides.length-1);if(a>this.slides.length-1)return this.to(0)}else a>=this.slides.length-1?this.nextButton.addClass(this.options.disabledClass):this.nextButton.removeClass(this.options.disabledClass),0>=a?this.previousButton.addClass(this.options.disabledClass):this.previousButton.removeClass(this.options.disabledClass);return a>this.slides.length-1||0>a?!1:(this.slides.removeClass(this.options.activeClass+" "+this.options.oldClass).eq(a).addClass(this.options.activeClass).end().slice(0,a).addClass(this.options.oldClass),this.current=a,this._trigger("to"),void 0)},next:function(){this.to(this.current+1)},previous:function(){this.to(this.current-1)},start:function(a){var b=this;b.startTimer(),a&&b.slider.hover(function(){b.stopTimer()},function(){b.startTimer()})},startTimer:function(){var a=this;this.timer=setInterval(function(){a.next()},this.options.interval)},stopTimer:function(){clearInterval(this.timer)},destroy:function(){a.Widget.prototype.destroy.call(this),this.nextButton.remove(),this.previousButton.remove()}})})(jQuery)
